# 仕様書の書き方ルール

本プロジェクトにおける仕様書（Markdownファイル）の作成基準を定義します。ドキュメントの品質と一貫性を保つため、以下のルールに従って記述してください。

## 1. ファイル構成と配置

詳細は [docs/README.md](../README.md) を参照してください。

### 命名規則
- ファイル名は `Upper-Kebab-Case.md`（例：`Game-Features.md`）を使用してください。
- ファイルの冒頭には、必ず `#`（見出しレベル1）でタイトルを記述してください。

## 2. docs/features/ における必須構成

`docs/features/` には、ゲームの機能や仕様に関する核となる情報を配置します。プロジェクトの一貫性を保つため、以下のファイル名と記述内容を必須とします。

### 必須ファイルと内容

| ファイル名 | 推奨される記述内容（必須項目） |
| :--- | :--- |
| `Game-Features.md` | ゲームの全体コンセプト、基本操作、主要なゲームサイクル（探索、建築、戦闘等）の概要。 |
| `System-Requirements.md` | 動作環境（OS、CPU、メモリ、GPU等）の最低・推奨スペック、および技術的な制約事項。 |
| `UI-UX-Design.md` | 画面遷移、主要なUIコンポーネントの配置、操作フィードバック、使用フォントやカラーパレット。 |
| `Development-Roadmap.md` | 開発のフェーズ分け、各フェーズでの目標、実装優先順位。 |

### 記述時の注意
- 新しい機能（例：釣りの仕組み、ボス戦など）を追加する場合は、既存の必須構成との整合性を確認した上で、新しいファイルを作成してください。
- 各ファイルには、ビジネスルール（「なぜその仕様なのか」「どういう条件で発動するか」等）を、実装詳細と切り離して記述してください。

## 3. docs/implementation/ における必須構成

`docs/implementation/` には、特定の機能を実現するための詳細なデータ構造やアルゴリズム、最適化手法を配置します。以下のファイル名と記述内容を必須とします。

### 必須ファイルと内容

| ファイル名 | 推奨される記述内容（必須項目） |
| :--- | :--- |
| `Implementation-Details.md` | 特定フェーズ（MVP等）を実現するための具体的なクラス設計、座標系、基本ロジックの概要。 |
| `JUnit-Rule.md` | JUnit 5 を使用したテストの実装方法、テストケースの命名、アサーションの使い分け、モックの活用ルール。 |
| `Optimization-Strategy.md` | パフォーマンスを維持するための最適化手法（カリング、計算量削減、マルチスレッド活用等）。 |

### 記述時の注意
- 数学的なアルゴリズムや複雑なデータ構造（例：バイナリ保存形式、流体計算）を導入する場合は、個別に詳細なファイルを作成し、`Implementation-Details.md` からリンクを貼ってください。

## 4. 記述スタイル

### 言語
- 原則として**日本語**で記述してください。
- 専門用語や固有名詞については、必要に応じて英語を併記または使用してください。

### Markdown の使用
- 見出しの階層構造（`##`, `###`）を適切に使用し、論理的な構成にしてください。
- `##`（見出しレベル2）には、原則として「1. 」「2. 」のように**連番の番号**を振ってください。
- リスト（`-` または `1.`）を活用し、箇条書きで簡潔に記述してください。
- 重要な用語や強調したい箇所は **太字** (`**text**`) を使用してください。
- コード片やコマンドはバッククォート (`` `code` ``) またはコードブロック (`` ``` ``) を使用してください。

### 相互参照
- 関連するドキュメントがある場合は、相対パスを用いてリンクを貼ってください。
  - 例：`[コーディング規約](tech/Coding-Convention.md)`
- 新しくドキュメントを作成した場合は、必ず `docs/README.md` の一覧に追加してください。

## 5. 情報の集約と参照

ドキュメントの保守性を高め、情報の不整合を防ぐため、以下の原則を遵守してください。

- **Single Source of Truth (信頼できる唯一の情報源)**：ある特定の仕様については、1箇所のドキュメントにのみ詳細を記述してください。
- **重複の回避**：同じ内容を複数のファイルに記述しないでください。
- **リンクによる参照**：他のドキュメントで定義されている仕様に言及する場合は、内容を再記述せず、該当ドキュメントへのリンク（相対パス）を貼ることで参照してください。

## 6. 図解の扱い
72:
73:- 複雑なロジックやアーキテクチャを説明する場合は、図解（Mermaid.js等）の活用を推奨します。
74:- 画像ファイルを読み込む場合は、`docs/images/`（必要に応じて作成）に配置し、相対パスで参照してください。
75:
76:## 7. 更新管理
77:
78:- 仕様に変更があった場合は、速やかにドキュメントを更新してください。
79:- コードの変更（プルリクエスト）とドキュメントの更新は、可能な限りセットで行うようにしてください。
